<!doctype html><html lang=en><head><title>Document Graph :: Hashed</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introduction Document Graph is a flexible persistence and modeling framework for blockchain applications.
Use Cases Document Graph is currently used for a number of use cases. Here are some real-world examples that we are using it for. Interestingly, all of the below use cases can be handled within the same graph where nodes can be linked to each other across contexts.
DAOs DAOs have have descriptive attributes. They also have members, proposals, assignments, quests, bounties, badges, and many other data types that are maintained to support a fully functional platform."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://hashed.io/dge/><link rel=stylesheet href=https://hashed.io/assets/style.css><link rel=stylesheet href=https://hashed.io/assets/green.css><link rel=apple-touch-icon href=https://hashed.io/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://hashed.io/favicon.ico><meta name=twitter:site content><meta name=twitter:creator content="ypp34"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Document Graph"><meta property="og:description" content="Introduction Document Graph is a flexible persistence and modeling framework for blockchain applications.
Use Cases Document Graph is currently used for a number of use cases. Here are some real-world examples that we are using it for. Interestingly, all of the below use cases can be handled within the same graph where nodes can be linked to each other across contexts.
DAOs DAOs have have descriptive attributes. They also have members, proposals, assignments, quests, bounties, badges, and many other data types that are maintained to support a fully functional platform."><meta property="og:url" content="https://hashed.io/dge/"><meta property="og:site_name" content="Hashed"><meta name=twitter:image content="https://hashed.io/img/Hashed_Logo_hu214b9fc48aa305847c28e5d3df0f33fd_144159_350x0_resize_q100_box.jpg"><meta property="og:image" content="/img/Hashed_Logo_hu214b9fc48aa305847c28e5d3df0f33fd_144159_350x0_resize_q100_box.jpg"><meta property="twitter:url" content="https://hashed.io/dge/"><meta name=twitter:title content="Document Graph"><meta name=twitter:description content="Introduction Document Graph is a flexible persistence and modeling framework for blockchain applications.
Use Cases Document Graph is currently used for a number of use cases. Here are some real-world examples that we are using it for. Interestingly, all of the below use cases can be handled within the same graph where nodes can be linked to each other across contexts.
DAOs DAOs have have descriptive attributes. They also have members, proposals, assignments, quests, bounties, badges, and many other data types that are maintained to support a fully functional platform."><meta name=twitter:card content="summary_large_image"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><link rel=stylesheet href=https://hashed.io/css/form.min.css crossorigin=anonymous></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=https://hashed.io/><div class=logo><img src=https://hashed.io/images/hashed_logo_full-1.png height=40 width=100 alt></div></a></div></div></header><div class=content><div class=post><h1 class=post-title><a href=https://hashed.io/dge/>Document Graph</a></h1><div class=post-meta><span class=post-author>:: ypp34</span></div><div class=post-content><div><h1 id=introduction>Introduction<a href=#introduction class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Document Graph is a flexible persistence and modeling framework for blockchain applications.</p><h1 id=use-cases>Use Cases<a href=#use-cases class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Document Graph is currently used for a number of use cases. Here are some real-world examples that we are using it for. Interestingly, all of the below use cases can be handled within the same graph where nodes can be linked to each other across contexts.</p><h2 id=daos>DAOs<a href=#daos class=hanchor arialabel=Anchor>&#8983;</a></h2><p>DAOs have have descriptive attributes. They also have members, proposals, assignments, quests, bounties, badges, and many other data types that are maintained to support a fully functional platform.</p><p>Here&rsquo;s an actual example of how Document Graph is used to manage a few components within a DAO&rsquo;s information space.</p><p><img src=graph-example.png alt="Example Graph"></p><h2 id=supply-chain>Supply Chain<a href=#supply-chain class=hanchor arialabel=Anchor>&#8983;</a></h2><p>We use Document Graph for a supply chain traceability application. An <code>Item</code> and its various <code>Checkpoints</code> are saved as <code>documents</code>. When a new QR code <code>scan</code> event occurs, it extends the graph for that item to contain a new <code>Checkpoint</code>.</p><p>Since a <code>Checkpoint</code> is a document, it can store any arbitrary data that describes that event, such as weight, longitude, latitude, cost, and even photos or other files such as packing lists. Files are stored in IPFS and anchored into the on-chain document.</p><p>Users have the option to save data directly onto the chain (for access within smart contracts) or to save the data to IPFS. Users also have the option to encrypt the data with a password of their choice.</p><img id=plantuml-eg>
<script src=/js/rawdeflate.js></script><script>function encode64(a){r="";for(i=0;i<a.length;i+=3)i+2==a.length?r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),0):i+1==a.length?r+=append3bytes(a.charCodeAt(i),0,0):r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),a.charCodeAt(i+2));return r}function append3bytes(a,b,c){return c1=a>>2,c2=(a&3)<<4|b>>4,c3=(b&15)<<2|c>>6,c4=c&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(a){return a<10?String.fromCharCode(48+a):(a-=10,a<26)?String.fromCharCode(65+a):(a-=26,a<26)?String.fromCharCode(97+a):(a-=26,a==0)?'-':a==1?'_':'?'}var deflater=window.SharedWorker&&new SharedWorker('/js/rawdeflate.js');deflater?(deflater.port.addEventListener('message',done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker('/js/rawdeflate.js'),deflater.onmessage=done_deflating);function done_deflating(a){const b=document.getElementById("plantuml-eg");b.src="http://www.plantuml.com/plantuml/img/"+encode64(a.data)}function compress(a){a=unescape(encodeURIComponent(a)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(a):deflater.postMessage(a):setTimeout(function(){done_deflating({data:deflate(a)})},100)}compress("\n@startuml\ndigraph G {\n    rankdir=LR;\n    Item -\u003e Checkpoint_1 [label=\u0022scan\u0022];\n    Item -\u003e Checkpoint_2 [label=\u0022scan\u0022];\n    Item -\u003e Checkpoint_3 [label=\u0022scan\u0022];\n}\n@enduml")</script><h2 id=accounting>Accounting<a href=#accounting class=hanchor arialabel=Anchor>&#8983;</a></h2><p>We also use the Document Graph to store data required to operate a double-entry accounting system. This system allows users to generate classical accounting reports such as Balance Sheet and Income Statement from blockchain transactions.</p><p>Accountants must be able to tag transactions with additional data, references, files, etc., and they must also be able to assign a general ledger account to appropriately calculate debits and credits.</p><h1 id=features>Features<a href=#features class=hanchor arialabel=Anchor>&#8983;</a></h1><h2 id=end-user-accessibility>End-user Accessibility<a href=#end-user-accessibility class=hanchor arialabel=Anchor>&#8983;</a></h2><p>The Document Graph Explorer allows for any user with a blockchain account to create and edit content that they own within the graph, and they may create between any two nodes in the graph.</p><p>This level of accessibility to non-technical users is unprecedented. It allows them to collaboratively create and connect content with all of the benefits of blockchain. This level of capability was previously only accessible to highly technical engineers.</p><h2 id=file-and-ipfs-integration>File and IPFS Integration<a href=#file-and-ipfs-integration class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Document Graph has integrated support for storing data or files within IPFS and saving that files’ CID (hash) within the document.</p><h2 id=encryption-support>Encryption Support<a href=#encryption-support class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Document Graph Explorer supports encryption of a specific content item’s value. In DGE, the user is prompted to enter a password that is used for symmetric AES encryption. This secret simply encrypts the value and the ciphertext is persisted in the document.</p><p>In a future release, we may integrate with the <a href=https://phala.network/en/>Khala/Phala</a> confidential blockchain. Also, we are evaluating integration with <a href=https://www.pad.tech/>PAD</a> as a trustless way to share the secret in a manner that alerts the owner when the secret is accessed. This is useful for interesting use cases such as one-time decrypt use cases and “in case of emergency” use cases.</p><h2 id=graphql-caching>GraphQL Caching<a href=#graphql-caching class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Document Graph supports easy integration with <a href=https://dgraph.io>DGraph</a>, an open source distributed graph engine. The document graph cache listens for new blocks, and upon finalization, updates the DGraph graph to reflect any updates to the on-chain graph. DGraph has excellent tooling and ergonomics for querying, custom types or schemas, data visualizer, full-text search, and much more.</p><h2 id=composable-sdk-experience-cli>Composable SDK Experience (CLI)<a href=#composable-sdk-experience-cli class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Document Graph is built to be highly composable and also support an ergonomic developer experience. In addition to the Document Graph Explorer web application, there is a CLI (written in Go) that supports all of the create, read, update, and delete operations directly against the blockchain.</p><h2 id=plugin-architecture-for-custom-renderers-and-editors>Plugin Architecture for Custom Renderers and Editors<a href=#plugin-architecture-for-custom-renderers-and-editors class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Developers can include special fields within their document to enable custom viewers or editors. For example, if the field “preferred_renderer” or “preferred_editor” is populated with an endpoint, this endpoint will be used to render or edit the document.</p><h1 id=background-of-semantic-triples>Background of Semantic Triples<a href=#background-of-semantic-triples class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Databases typically store data in a tabular format, where a table has set of columns and rows, like a spreadsheet.</p><p>However, IRL, we tend to think in statements of <code>Subject</code>, <code>Predicate</code> (<code>Verb</code>), and <code>Object</code>. This is particularly true in the English language where word order is subject, verb, object (SVO). This information construct is known as <code>triples</code>, or <a href=https://en.wikipedia.org/wiki/Semantic_triple>semantic triples</a>. The <a href=https://www.w3.org/RDF/>W3C Resource Description Framework</a> is a leading specification for organizing these statements into semantic triples.</p><p>As Lenhert describes <a href=https://www.synaptica.com/triples-triads-and-semantics/>here</a>:</p><blockquote><p>&ldquo;One of the fundamental benefits of these RDF-based controlled vocabulary structures are their dual nature as being both human intelligible as well as machine readable (and, therefore, portable). Like their basic constituent subject-verb-object basis, ontologies convey rich meaning in relatively simple and compact statements, making them extremely useful in modeling complex knowledge environments.&rdquo;</p></blockquote><p>The following diagrams express semantic triples in various terms.</p><h3 id=using-the-natural-english-sovhttpsenwikipediaorgwikisubjecte28093verbe28093object-terms>Using the natural English <a href=https://en.wikipedia.org/wiki/Subject%E2%80%93verb%E2%80%93object>SOV</a> terms<a href=#using-the-natural-english-sovhttpsenwikipediaorgwikisubjecte28093verbe28093object-terms class=hanchor arialabel=Anchor>&#8983;</a></h3><img id=plantuml-dg1>
<script src=/js/rawdeflate.js></script><script>function encode64(a){r="";for(i=0;i<a.length;i+=3)i+2==a.length?r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),0):i+1==a.length?r+=append3bytes(a.charCodeAt(i),0,0):r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),a.charCodeAt(i+2));return r}function append3bytes(a,b,c){return c1=a>>2,c2=(a&3)<<4|b>>4,c3=(b&15)<<2|c>>6,c4=c&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(a){return a<10?String.fromCharCode(48+a):(a-=10,a<26)?String.fromCharCode(65+a):(a-=26,a<26)?String.fromCharCode(97+a):(a-=26,a==0)?'-':a==1?'_':'?'}var deflater=window.SharedWorker&&new SharedWorker('/js/rawdeflate.js');deflater?(deflater.port.addEventListener('message',done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker('/js/rawdeflate.js'),deflater.onmessage=done_deflating);function done_deflating(a){const b=document.getElementById("plantuml-dg1");b.src="http://www.plantuml.com/plantuml/img/"+encode64(a.data)}function compress(a){a=unescape(encodeURIComponent(a)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(a):deflater.postMessage(a):setTimeout(function(){done_deflating({data:deflate(a)})},100)}compress("\n@startuml\ndigraph G {\n    rankdir=LR;\n    Subject -\u003e Object [label=\u0022Verb\u0022];\n}\n@enduml")</script><h3 id=using-common-graph-theoryhttpsenwikipediaorgwikivertex_graph_theory-terms>Using common <a href=https://en.wikipedia.org/wiki/Vertex_(graph_theory)>graph theory</a> terms<a href=#using-common-graph-theoryhttpsenwikipediaorgwikivertex_graph_theory-terms class=hanchor arialabel=Anchor>&#8983;</a></h3><img id=plantuml-dg2>
<script src=/js/rawdeflate.js></script><script>function encode64(a){r="";for(i=0;i<a.length;i+=3)i+2==a.length?r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),0):i+1==a.length?r+=append3bytes(a.charCodeAt(i),0,0):r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),a.charCodeAt(i+2));return r}function append3bytes(a,b,c){return c1=a>>2,c2=(a&3)<<4|b>>4,c3=(b&15)<<2|c>>6,c4=c&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(a){return a<10?String.fromCharCode(48+a):(a-=10,a<26)?String.fromCharCode(65+a):(a-=26,a<26)?String.fromCharCode(97+a):(a-=26,a==0)?'-':a==1?'_':'?'}var deflater=window.SharedWorker&&new SharedWorker('/js/rawdeflate.js');deflater?(deflater.port.addEventListener('message',done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker('/js/rawdeflate.js'),deflater.onmessage=done_deflating);function done_deflating(a){const b=document.getElementById("plantuml-dg2");b.src="http://www.plantuml.com/plantuml/img/"+encode64(a.data)}function compress(a){a=unescape(encodeURIComponent(a)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(a):deflater.postMessage(a):setTimeout(function(){done_deflating({data:deflate(a)})},100)}compress("\n@startuml\ndigraph G {\n    rankdir=LR;\n    Vertex1 -\u003e Vertex2 [label=\u0022Edge\u0022];\n}\n@enduml")</script><h3 id=using-the-document-graph-terms>Using the Document Graph terms<a href=#using-the-document-graph-terms class=hanchor arialabel=Anchor>&#8983;</a></h3><img id=plantuml-dg3>
<script src=/js/rawdeflate.js></script><script>function encode64(a){r="";for(i=0;i<a.length;i+=3)i+2==a.length?r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),0):i+1==a.length?r+=append3bytes(a.charCodeAt(i),0,0):r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),a.charCodeAt(i+2));return r}function append3bytes(a,b,c){return c1=a>>2,c2=(a&3)<<4|b>>4,c3=(b&15)<<2|c>>6,c4=c&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(a){return a<10?String.fromCharCode(48+a):(a-=10,a<26)?String.fromCharCode(65+a):(a-=26,a<26)?String.fromCharCode(97+a):(a-=26,a==0)?'-':a==1?'_':'?'}var deflater=window.SharedWorker&&new SharedWorker('/js/rawdeflate.js');deflater?(deflater.port.addEventListener('message',done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker('/js/rawdeflate.js'),deflater.onmessage=done_deflating);function done_deflating(a){const b=document.getElementById("plantuml-dg3");b.src="http://www.plantuml.com/plantuml/img/"+encode64(a.data)}function compress(a){a=unescape(encodeURIComponent(a)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(a):deflater.postMessage(a):setTimeout(function(){done_deflating({data:deflate(a)})},100)}compress("\n@startuml\ndigraph G {\n    rankdir=LR;\n    Document1 -\u003e Document2 [label=\u0022Edge\u0022];\n}\n@enduml")</script><p>Note that edges are both directional and labeled.</p><h3 id=simple-example-of-a-semantic-triple>Simple Example of a Semantic Triple<a href=#simple-example-of-a-semantic-triple class=hanchor arialabel=Anchor>&#8983;</a></h3><img id=plantuml-dg4>
<script src=/js/rawdeflate.js></script><script>function encode64(a){r="";for(i=0;i<a.length;i+=3)i+2==a.length?r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),0):i+1==a.length?r+=append3bytes(a.charCodeAt(i),0,0):r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),a.charCodeAt(i+2));return r}function append3bytes(a,b,c){return c1=a>>2,c2=(a&3)<<4|b>>4,c3=(b&15)<<2|c>>6,c4=c&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(a){return a<10?String.fromCharCode(48+a):(a-=10,a<26)?String.fromCharCode(65+a):(a-=26,a<26)?String.fromCharCode(97+a):(a-=26,a==0)?'-':a==1?'_':'?'}var deflater=window.SharedWorker&&new SharedWorker('/js/rawdeflate.js');deflater?(deflater.port.addEventListener('message',done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker('/js/rawdeflate.js'),deflater.onmessage=done_deflating);function done_deflating(a){const b=document.getElementById("plantuml-dg4");b.src="http://www.plantuml.com/plantuml/img/"+encode64(a.data)}function compress(a){a=unescape(encodeURIComponent(a)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(a):deflater.postMessage(a):setTimeout(function(){done_deflating({data:deflate(a)})},100)}compress("\n@startuml\ndigraph G {\n    rankdir=LR;\n    Document1 -\u003e Document2 [label=\u0022Edge\u0022];\n}\n@enduml")</script><h2 id=blockchain-change-management>Blockchain Change Management<a href=#blockchain-change-management class=hanchor arialabel=Anchor>&#8983;</a></h2><p>At their core, blockchains are used to manage data and state changes on that data. The structure of this data is nearly always based on a custom-built struct within a pallet or smart contract. Applications that are built on blockchains are typically built for a specific smart contract’s data structure, and the application is highly coupled to that application. When a data structure changes, it typically requires a complex migration of existing data and source code within the smart contract as well as perhaps changes to other backend or service layers and the application itself.</p><p>For example, assume the overly simplified struct within a smart contract. Upon an approval, the amount would be sent to the account indicated.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Proposal</span> {
    <span style=color:#66d9ef>pub</span> label: <span style=color:#66d9ef>str</span>,
    <span style=color:#66d9ef>pub</span> account: <span style=color:#a6e22e>AccountId</span>,
    <span style=color:#66d9ef>pub</span> amount: <span style=color:#66d9ef>u32</span>,
}
</code></pre></div><p>Then, let&rsquo;s say the DAO wants to add support for recurring payments. This would need to be supported within the data model by adding a time period to use as the recurring period and the total number of payments.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Proposal</span> {
    <span style=color:#66d9ef>pub</span> title: <span style=color:#66d9ef>str</span>,
    <span style=color:#66d9ef>pub</span> account: <span style=color:#a6e22e>AccountId</span>,
    <span style=color:#66d9ef>pub</span> amount: <span style=color:#66d9ef>u32</span>,
    <span style=color:#66d9ef>pub</span> time_period_seconds: <span style=color:#66d9ef>u32</span>,
    <span style=color:#66d9ef>pub</span> payment_count: <span style=color:#66d9ef>u32</span>,
}
</code></pre></div><p>Depending on the blockchain, this change management event requires a series of gymnastics by developers to maintain a reasonable user experience. For example, on non-upgradable platforms, it may require clients to query from both structs, or if upgradable, may require erasing data from the original data store and recreating it (losing metadata in the process). Some may require maintaining both structures and adding a roll-up of sorts to maintain client backwards compatibility.</p><p>All of these complications create a significant change management burden on software developers.</p><h3 id=document-graph-solves-this>Document Graph Solves This<a href=#document-graph-solves-this class=hanchor arialabel=Anchor>&#8983;</a></h3><p>Document Graph alleviates the need for developers to change their persistence layer when making upgrades to their data model.</p><p>This is achieved by supporting flexible variant pairs within a consistently structured <code>document</code> type and support for an <code>edge</code> type used to link the graph&rsquo;s documents in meaningful ways.</p><h1 id=specification>Specification<a href=#specification class=hanchor arialabel=Anchor>&#8983;</a></h1><h2 id=document-data-model>Document Data Model<a href=#document-data-model class=hanchor arialabel=Anchor>&#8983;</a></h2><img id=plantuml-dg5>
<script src=/js/rawdeflate.js></script><script>function encode64(a){r="";for(i=0;i<a.length;i+=3)i+2==a.length?r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),0):i+1==a.length?r+=append3bytes(a.charCodeAt(i),0,0):r+=append3bytes(a.charCodeAt(i),a.charCodeAt(i+1),a.charCodeAt(i+2));return r}function append3bytes(a,b,c){return c1=a>>2,c2=(a&3)<<4|b>>4,c3=(b&15)<<2|c>>6,c4=c&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(a){return a<10?String.fromCharCode(48+a):(a-=10,a<26)?String.fromCharCode(65+a):(a-=26,a<26)?String.fromCharCode(97+a):(a-=26,a==0)?'-':a==1?'_':'?'}var deflater=window.SharedWorker&&new SharedWorker('/js/rawdeflate.js');deflater?(deflater.port.addEventListener('message',done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker('/js/rawdeflate.js'),deflater.onmessage=done_deflating);function done_deflating(a){const b=document.getElementById("plantuml-dg5");b.src="http://www.plantuml.com/plantuml/img/"+encode64(a.data)}function compress(a){a=unescape(encodeURIComponent(a)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(a):deflater.postMessage(a):setTimeout(function(){done_deflating({data:deflate(a)})},100)}compress("\n@startuml\n@startmindmap\n* Document\n** Header\n*** Hash\n*** Owner\n*** Type\n*** Created \u0026 Updated Dates\n** Content Group 1\n*** Content Item 1\n**** Key (label)\n**** Value\n*** Content Item n\n** Content Group n\n@endmindmap\n@enduml")</script><p>Each document is comprised of the following:</p><ul><li>Header<ul><li>[required] creator (account)</li><li>[required] graph contract (where the document is saved)</li><li>[optional] created date (timepoint)</li><li>[optional] updated date (timepoint)</li><li>[optional] hash of content (not including certificates or header)</li></ul></li><li>Content<ul><li>Value (variant) = <code>std::variant &lt;asset, string, time_point, name, int64></code></li><li>Content = an optionally labeled FlexValue</li><li>Content Group = vector<content></li><li>Content Groups = vector<contentgroup></li><li>Each document contains a single instance of ContentGroups.</li><li>This provides enough flexibility to support:<ul><li>data of all supported types,</li><li>short clauses of annotated text,</li><li>longer form sequenced data, e.g. chapters.</li></ul></li></ul></li><li>Certificates [optional]<ul><li>Each document has <code>O..n</code> certificates.</li><li>Certificate<ul><li>certifier: the &lsquo;signer&rsquo;</li><li>notes: string data provided by signer</li><li>certification_date: time_point</li></ul></li></ul></li></ul></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright"><span>© 2022 Hashed</span></div></div></footer><script src=https://hashed.io/assets/main.js></script><script src=https://hashed.io/assets/prism.js></script><script src=https://hashed.io/js/mailto.js defer></script></div></body></html>